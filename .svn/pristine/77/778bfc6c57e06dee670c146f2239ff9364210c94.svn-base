<?php
// +----------------------------------------------------------------------
// | 基础服务类
// +----------------------------------------------------------------------
// | Copyright (c) 2017--20xx年 捞月狗. All rights reserved.
// +----------------------------------------------------------------------
// | File:     service.php
// |
// | Author:   huzhichao@laoyuegou.com
// | Created:  2017-xx-xx
// +----------------------------------------------------------------------
use Phalcon\Mvc\User\Component;

class BaseService extends Component {
	public $_NODATA = 'NODATA';
	protected $sdb = null;

	protected function select_db($name)
	{
		if (empty($name))
			$name = 'database';
		$db = $this->config->$name;

		$config = array(
        		'host' => $db->host,
        		'username' => $db->username,
        		'password' => $db->password,
        		'charset' => 'UTF8',
        		'dbname' => $db->dbname
    	);
		$this->sdb = new \Phalcon\Db\Adapter\Pdo\Mysql($config);
		$this->sdb->connect();
	}
}
